#! /bin/bash
# =================================================================================================
# Script used to launch PolaStreet test campaign
# -------------------------------------------------------------------------------------------------
# GDE - 2023-06-08 - Creation
# =================================================================================================

# =================================================================================================
# Initialisations
# =================================================================================================
source config.sh

# =================================================================================================
# Running tests
# =================================================================================================
for CURRENT_TEST in "${TESTS_LIST[@]}"
do
    # Launching current test if it exists
    if [ -f ${LIBRARY_PATH}/${CURRENT_TEST}.sh ]
    then
        RESULT=$(${LIBRARY_PATH}/${CURRENT_TEST}.sh)
        [ $? -ne 0 ] && __STATUS="Failure" || __STATUS="Success"
    else
        __STATUS="Missing"
    fi

    # Printing test result on screen
    printf "$(date +"%Y-%m-%d %H:%M:%S") - %-50s [${__STATUS}]\n" "${CURRENT_TEST}"
done